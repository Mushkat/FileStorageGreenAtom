# Тестовое задание для курса GreenAtom
  Я впервые писал проект на данном стеке, поэтому успел далеко не все, что хотел. Но я искренне старался
и пытался закрыть техническое задание по максимуму, поэтому сейчас немного расскажу про свой проект.

## Комментарии к решению
  Проект представляет собой Spring Boot приложение, которое загружает и достает 
файлы различных типов из PostgreSQL. Само серверное приложение основано на 
архитектуре REST API, для реализации запросов к базе данных используется 
Spring Data JPA, а для обработки запросов - интерфейс MultipartFile.

### Архитектура проекта

**FileEntity** - класс, представляющий собой объект для данных,
связанных с таблицей в базе данных.

**FileResponse** - объект POJO, используемый для списка файлов.

**FileRepository** - хранилище, используемое для сохранения и загрузки файлов в/из базы данных.

**FileService** - сервис, который будет вызывать crud методы из FileRepository.

**FilesController** используется для обработки HTTP-запросов.

**RestExceptionHandler** - класс с самописным исключением.

**application.properties** - файл конфигурации, используемый для настройки подключения к базе данных и установки ограничений на размер загружаемых файлов.

**pom.xml** - файл с описанием зависимостей проекта.

Проект предоставляет три endpoint'a:

         URL           Method                    Action
    1) /files          GET        Получение списка всех загруженных файлов
    2) /files          POST       Загрузка одного файла с его названием
    3) /files/{uuid}   GET        Загрузка файла с данным uuid

## Рассмотрим остальные моменты на примере тестирования с использованием Postman
### 1) Загрузка файлов
   Начнём с загрузки нескольких файлов по очереди запросом POST. Приложение разворачивается по     адресу http://localhost:8080, а данные загружаются в табличку /files. После загрузки
   каждого файла нам возвращается ответ с оповещением об успешной загрузке, именем и uuid файла.

   ![image](https://github.com/user-attachments/assets/a901b4f9-2d99-43a8-96e5-3fd885308c7d)

  Чтобы база данных имела хоть какую-то устойчивость, я поставил ограничение на размер       
  загружаемых файлов - 1 Мб. При загрузке файла большего размера увидим сообщение
  исключения.
  
  ![image](https://github.com/user-attachments/assets/19da097c-98fa-4e49-9df0-c46ebb2a25b4)

### 2) Получение списка всех файлов.
   С помощью запроса GET по url **http://localhost:8080/files** получим список всех файлов.
   В наших тестах это выглядит вот так:
   
  ![image](https://github.com/user-attachments/assets/286a330d-2f8a-4ce6-8608-140cb3f3032e)

   А в самой базе данных увидим это:
   
  ![image](https://github.com/user-attachments/assets/4935d0c6-9b9b-40bf-acfd-acb33726755f)

### 3) Загрузка файла из базы данных
  Испоьзуем снова запрос GET для url с указанием сгенерированного uuid для нужного нам файла.
  Попробуем вот так **http://localhost:8080/files/5cb83bed-ee52-478e-9b47-642ef8769810**
  Ответом для нас будет вот такой, все это время ждущий внутри базы данных, рыжий котенок.
  
  ![image](https://github.com/user-attachments/assets/57e3775f-5e4f-4337-9446-8086c270a5e0)

  И немного информации о нём:
  
  ![image](https://github.com/user-attachments/assets/3eb3cb4b-026b-4ba4-ad7c-e3ffebf7b757)

### К сожалению, я не успел положить всё это в docker контейнер и создать обертку из junit тестов, поэтому проект можно запустить только на локалке.

# Заключение
  Вот такие тесты у нас получились, надеюсь, что я ничего не упустил. Спасибо за внимание и потраченное время!
